<?xml version="1.0" encoding="utf-8" ?>
<views:ContentPageBase xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
                       xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                       xmlns:views="clr-namespace:ICS.App.Views"
                       xmlns:m="clr-namespace:ICS.BL.Models;assembly=ICS.BL"
                       xmlns:vm="clr-namespace:ICS.App.ViewModels"
                       x:Class="ICS.App.Views.Subject.SubjectListView"
                       x:DataType="vm:SubjectListViewModel"
                       x:Name="SubjectListViewRoot">

    <Grid Padding="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- Header with Search Bar -->
        <Label Text="ICS" FontSize="Large" VerticalOptions="Center" Grid.Row="0" Grid.Column="0" />
        <Label Text="SUBJECTS" FontSize="Large" VerticalOptions="Center" HorizontalOptions="End" Grid.Row="0" Grid.Column="1" />

        <Grid Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="auto" />
            </Grid.ColumnDefinitions>
            <SearchBar x:Name="SearchBar" Placeholder="Search" Grid.Column="0" />
            <Button Text="+" Command="{Binding GoToCreateCommand}" FontSize="Large" Grid.Column="1" />
        </Grid>

        <!-- Subjects List -->
        <CollectionView Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                        ItemsSource="{Binding Subjects}"
                        SelectionMode="Single">
            <CollectionView.ItemsLayout>
                <GridItemsLayout Orientation="Vertical" Span="2" />
            </CollectionView.ItemsLayout>
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame BorderColor="Black" Padding="10" Margin="5" HasShadow="False">
                        <Label Text="{Binding Abbreviation}" HorizontalOptions="Center" VerticalOptions="Center" />
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding Source={RelativeSource AncestorType={x:Type vm:SubjectListViewModel}}, Path=GoToDetailCommand}"
                                                  CommandParameter="{Binding Id}" />
                        </Frame.GestureRecognizers>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <!-- Pagination -->
        <StackLayout Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalOptions="Center">
            <!-- Add your pagination controls here -->
            <Label Text="1, 2, 3, ..., 66" FontSize="Medium" />
        </StackLayout>
    </Grid>

</views:ContentPageBase>
